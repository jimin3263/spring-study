# 객체 지향

## 다형성
: **역할**, **구현** 분리

### 다형성 실세계 비유

> 운전자와 자동차

- 운전자의 역할: 인터페이스(대상의 역할)만 알고 내부 구조를 모르고, 자동차를 운전함
- 자동차의 역할: 자동차의 기능, 설계도
- 자동차의 구현: K3, 아반떼

> 자바
- 역할: 인터페이스
- 구현: 인터페이스를 구현한 클래스, 구현 객체  

*-> 다형성으로 인터페이스를 구현한 객체를 실행 시점에 유연하게 변경 가능*  
*-> 인터페이스를 안정적으로 잘 설계하는 것이 중요*

## SOLID

- SRP: 단일 책임 원칙
- OCP: 개방 폐쇄 원칙
- LSP: 리스코프 치환 원칙
- ISP: 인터페이스 분리 원칙
- DIP: 의존관계 역전 원칙


### SRP (Single Responsibility Principle)
- 하나의 클래스는 하나의 책임만 가져야 함  
*-> 중요한 기준은 변경*

### OCP (Open/closed Principle)  
- 확장에는 열려 있으나 변경에는 닫혀 있어야 함  
*-> 인터페이스를 구현한 새로운 클래스를 만들어서 새로운 기능 구현 가능*
- But 구현 객체를 변경하려면 클라이언트 코드를 변경해야 해서 **OCP 위반함*  

### LSP (Liskov Substitution Principle)
- 프로그램의 객체는 프로그램의 정확성을 깨뜨리지 않으면서 하위 타입의 인스턴스로 바꿀 수 있어야 함  
- 다형성에서 하위 클래스는 인터페이스 규약을 지켜야 함  
- 예) 자동차 인터페이스의 엑셀은 앞으로 가는 기능으로, 후진하는 기능을 구현하면 안됨. 느리더라도 앞으로 가야함  

### ISP (Interface Segregation Principle)
- 특정 클라이언트를 위한 인터페이스 여러 개가 범용 인터페이스 하나보다 나음
- 자동차 인터페이스 -> 운전 인터페이스, 정비 인터페이스로 분리
- 사용자 인터페이스 -> 운전자 클라이언트, 정비사 클라이언트로 분리  
*-> 인터페이스 명확해지고 대체 가능성이 높아짐*

### DIP (Dependency Inversion Principle)
- 클라이언트 코드가 구현 클래스에 의존하지 말고, 인터페이스에 의존하라는 것
- **역할에 의존하게 해야 함**
```java
MemberRepository m = new MemoryMemberRepository();
```  
- 인터페이스, 구현 클래스 동시에 의존하기에 **DIP 위반하고 있음**

## 객체 지향 설계와 스프링
: 스프링은 DI 등을 통해 OCP, DIP를 가능하게 지원 해줌
- DI: 의존 관계, 의존 주입
